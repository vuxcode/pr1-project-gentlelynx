<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <title>Knitter helper 0.1</title>
        <style>
            main {
                background-color: #B2D3A8;
                margin: auto;
                border-style: dotted;
                border-width: 2px;
                border-radius: 10px;
                border-color: #498467;
                width: 400px;
                height: 400px;
            }
            form {
                margin: 15px;

                border-radius: 10px;
            }
            label {
                margin: 20px;
                padding: 20px 10px;
                color: #084231;
            }
            input{
                margin: 10px;
                width: 310px;
                height: 35px;
                background-color: white;
            }
            main button {
                margin: 20px;
                width: 310px;
            }
            table {
                margin: auto;
            }
        </style>
    </head>
    <body>
        <main>
            <img src="v20x20.jpg" id="knit" alt="Graphic of the knit symbol">
            <form>
                <fieldset id="step1">
                    <legend>Step 1:</legend>
                    <label for="numberofstitches">Number of stitches:</label><br>
                    <input type="text" id="numberofstitches" name="numberofstitches" autofocus><br>
                    <label for="numberofrows">Number of rows:</label>
                    <input type="text" id="numberofrows" name="numberofrows"><br>
                </fieldset>
                <fieldset id="step2">
                    <legend>Step 2:</legend>
                    <label for="rowone">Enter 1st row:</label><br>
                    <input type="text" id="rowone" name="rowone"><br>
                    <label for="rowtwo">Enter 2nd row:</label><br>
                    <input type="text" id="rowtwo" name="rowtwo"><br>
                </fieldset>
            </form>
            <button id="createChartButton" onclick="createChart()">Create the chart!</button>
        </main>
        <canvas id="output" width="200" height="40" style="border:1px solid grey";></canvas>
    </body> 
</html>


<script>
//we need to be able to translate the instructions into a pattern
//if the user enters 48 stitches here, and the pattern is K1 P1(K1 P1) K1
//K1 P1 indicate edge, parenthesis indicate repetition, and K1 at the end is another edge
//Thus pattern would be k1=stitch 1, p1=2, (k1, p1 = stitches 3 to 47), and k1=48


//end edge
var endrow;
//repetition variable to update later 
var repeatstitches;


//make a function that creates the chart after pressing the button
    function createChart() {
        //number of stitches=number of columns 
        var numberofstitches = document.getElementById("numberofstitches");
        console.log("Number of columns :" + numberofstitches.value);
        //number of rows
        var numberofrows = document.getElementById("numberofrows");
        console.log("Number of rows :" + numberofrows.value);
        //first row to test 
        var rowone = document.getElementById("rowone");
        console.log("First row: " + rowone.value);
        //second row to test
        var rowtwo = document.getElementById("rowtwo");
        console.log("Second row :" + rowtwo.value);
        
        //changing the canvas width&height based on the input
        document.getElementById('output').width = (numberofstitches.value * 50);
        document.getElementById('output').height = (numberofrows.value * 50);

        //fetch canvas
        var canvas = document.getElementById("output");
        var ctx = canvas.getContext("2d");
        //clear canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        //repeat pattern inside the canvas the same amount as the numberofstitches
        for (var x = numberofstitches; x > 0; x--) {
            var knit = document.getElementById("knit");
            var pat = ctx.createPatter(img);
            ctx.rect(0, 0, 20, 20);
            ctx.fillStyle = pat;
            ctx.fill();
            console.log(x);
        }
    }
</script>
